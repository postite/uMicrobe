<?php
/**
 * Generated by Haxe 4.0.0 (git build development @ da28365)
 * Haxe source file: /Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx
 */

namespace ufront\web\result;

use \ufront\core\SurpriseTools;
use \ufront\web\context\ActionContext;
use \php\Boot;
use \tink\core\_Future\FutureObject;

/**
 * Represents a result that takes no further action and writes nothing to the response.
 * This is useful if your controller action has written to the response directly, for example using `Sys.println`.
 * @author Andreas Soderlund
 */
class EmptyResult extends ActionResult {
	/**
	 * @var bool
	 * Should we prevent the application from "flushing" the response?
	 * This will prevent content, headers, cookies, status codes, or any other part of the `HttpResponse`, from being returned to the client.
	 */
	public $preventFlush;


	/**
	 * @param preventFlush See `this.preventFlush`. Default is false.
	 * 
	 * @param bool $preventFlush
	 * 
	 * @return void
	 */
	public function __construct ($preventFlush = false) {
		#/Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx:24: characters 3-35
		if ($preventFlush === null) {
			#/Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx:24: characters 3-35
			$preventFlush = false;
		}
		#/Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx:24: characters 3-35
		$this->preventFlush = $preventFlush;
	}


	/**
	 * @param ActionContext $actionContext
	 * 
	 * @return FutureObject
	 */
	public function executeResult ($actionContext) {
		#/Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx:28: lines 28-29
		if ($this->preventFlush) {
			#/Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx:29: characters 4-53
			$actionContext->httpContext->response->preventFlush();
		}
		#/Users/ut/Documents/LAB/ufront-mvc/src/ufront/web/result/EmptyResult.hx:30: characters 3-33
		return SurpriseTools::success();
	}
}


Boot::registerClass(EmptyResult::class, 'ufront.web.result.EmptyResult');
