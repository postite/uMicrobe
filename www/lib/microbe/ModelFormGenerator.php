<?php
/**
 * Generated by Haxe 4.0.0 (git build development @ da28365)
 * Haxe source file: src/microbe/FormGenerator.hx
 */

namespace microbe;

use \php\Boot;
use \ufront\db\Object_hx;

class ModelFormGenerator {
	/**
	 * @var \Array_hx
	 */
	public $classes;
	/**
	 * @var mixed
	 */
	public $data;
	/**
	 * @var string
	 */
	public $formurl;
	/**
	 * @var Object_hx
	 */
	public $model;
	/**
	 * @var string
	 */
	public $stringModel;


	/**
	 * @param string $formurl
	 * @param \Array_hx $classes
	 * 
	 * @return void
	 */
	public function __construct ($formurl = "", $classes = null) {
		#src/microbe/FormGenerator.hx:75: lines 75-80
		if ($formurl === null) {
			#src/microbe/FormGenerator.hx:75: lines 75-80
			$formurl = "";
		}
		#src/microbe/FormGenerator.hx:76: characters 3-24
		$this->formurl = $formurl;
		#src/microbe/FormGenerator.hx:77: characters 3-45
		$this->classes = ($classes !== null ? $classes : new \Array_hx());
	}


	/**
	 * @param IMicrobeWrapper $m
	 * 
	 * @return string
	 */
	public function generate ($m) {
		#src/microbe/FormGenerator.hx:88: characters 3-18
		$m->setData($this->data);
		#src/microbe/FormGenerator.hx:89: characters 3-28
		$_this = $this->classes;
		#src/microbe/FormGenerator.hx:89: characters 3-28
		$_this->arr[$_this->length] = "pushstate";
		#src/microbe/FormGenerator.hx:89: characters 3-28
		++$_this->length;

		#src/microbe/FormGenerator.hx:90: characters 3-27
		$c = $this->classes->join(" ");
		#src/microbe/FormGenerator.hx:92: lines 92-100
		return "\x0A\x09\x09<style> input{\x0A\x09\x09\x09display:block;\x0A\x09\x09}\x0A\x09\x09</style>\x0A\x0A\x09\x09<form action=\"" . ($this->formurl??'null') . "\" class=\"" . ($c??'null') . "\"  method=\"POST\">\x0A\x09\x09" . ($m->render()??'null') . "\x0A\x09\x09</form>";
	}


	/**
	 * @param mixed $d
	 * 
	 * @return ModelFormGenerator
	 */
	public function setData ($d) {
		#src/microbe/FormGenerator.hx:83: characters 3-14
		$this->data = $d;
		#src/microbe/FormGenerator.hx:84: characters 3-14
		return $this;
	}
}


Boot::registerClass(ModelFormGenerator::class, 'microbe.ModelFormGenerator');
