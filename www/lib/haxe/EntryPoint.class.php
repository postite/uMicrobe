<?php

// Generated by Haxe 3.4.7
class haxe_EntryPoint {
	public function __construct(){}
	static $sleepLock;
	static $mutex;
	static $pending;
	static $threadCount = 0;
	static function processEvents() {
		$GLOBALS['%s']->push("haxe.EntryPoint::processEvents");
		$__hx__spos = $GLOBALS['%s']->length;
		while(true) {
			$_this = haxe_EntryPoint::$mutex;
			$f = haxe_EntryPoint::$pending->shift();
			$_this1 = haxe_EntryPoint::$mutex;
			if($f === null) {
				break;
			}
			call_user_func($f);
			unset($f,$_this1,$_this);
		}
		$tmp = null;
		if(haxe_MainLoop::$pending === null) {
			$tmp = haxe_EntryPoint::$threadCount === 0;
		} else {
			$tmp = false;
		}
		if($tmp) {
			$GLOBALS['%s']->pop();
			return -1;
		}
		{
			$tmp2 = haxe_MainLoop::tick();
			$GLOBALS['%s']->pop();
			return $tmp2;
		}
		$GLOBALS['%s']->pop();
	}
	static function run() {
		$GLOBALS['%s']->push("haxe.EntryPoint::run");
		$__hx__spos = $GLOBALS['%s']->length;
		while(true) {
			$nextTick = haxe_EntryPoint::processEvents();
			if($nextTick < 0) {
				break;
			}
			if($nextTick > 0) {
				$_this = haxe_EntryPoint::$sleepLock;
				unset($_this);
			}
			unset($nextTick);
		}
		$GLOBALS['%s']->pop();
	}
	function __toString() { return 'haxe.EntryPoint'; }
}
haxe_EntryPoint::$sleepLock = new haxe__EntryPoint_Lock();
haxe_EntryPoint::$mutex = new haxe__EntryPoint_Mutex();
haxe_EntryPoint::$pending = new _hx_array(array());
