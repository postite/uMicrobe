<?php

// Generated by Haxe 3.4.7
class tink_core__Promise_Promise_Impl_ {
	public function __construct(){}
	static $NULL;
	static $NOISE;
	static $NEVER;
	static function eager($this1) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::eager");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = $this1->eager();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function map($this1, $f) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::map");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $this1->map($f);
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function flatMap($this1, $f) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::flatMap");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $this1->flatMap($f);
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function tryRecover($this1, $f) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::tryRecover");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $this1->flatMap(array(new _hx_lambda(array(&$f), "tink_core__Promise_Promise_Impl__0"), 'execute'));
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function recover($this1, $f) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::recover");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $this1->flatMap(array(new _hx_lambda(array(&$f), "tink_core__Promise_Promise_Impl__1"), 'execute'));
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function mapError($this1, $f) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::mapError");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $this1->map(array(new _hx_lambda(array(&$f), "tink_core__Promise_Promise_Impl__2"), 'execute'));
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function handle($this1, $cb) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::handle");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = $this1->handle($cb);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function noise($this1) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::noise");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::next($this1, array(new _hx_lambda(array(), "tink_core__Promise_Promise_Impl__3"), 'execute'), null);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function isSuccess($this1) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::isSuccess");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $this1->map(array(new _hx_lambda(array(), "tink_core__Promise_Promise_Impl__4"), 'execute'));
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function next($this1, $f, $gather = null) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::next");
		$__hx__spos = $GLOBALS['%s']->length;
		if($gather === null) {
			$gather = true;
		}
		$ret = $this1->flatMap(array(new _hx_lambda(array(&$f), "tink_core__Promise_Promise_Impl__5"), 'execute'));
		if($gather) {
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		} else {
			$GLOBALS['%s']->pop();
			return $ret;
		}
		$GLOBALS['%s']->pop();
	}
	static function swap($this1, $v) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::swap");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Future_Future_Impl_::_tryMap($this1, array(new _hx_lambda(array(&$v), "tink_core__Promise_Promise_Impl__6"), 'execute'));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function swapError($this1, $e) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::swapError");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::mapError($this1, array(new _hx_lambda(array(&$e), "tink_core__Promise_Promise_Impl__7"), 'execute'));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function merge($this1, $other, $merger, $gather = null) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::merge");
		$__hx__spos = $GLOBALS['%s']->length;
		if($gather === null) {
			$gather = true;
		}
		{
			$tmp = tink_core__Promise_Promise_Impl_::next($this1, array(new _hx_lambda(array(&$merger, &$other), "tink_core__Promise_Promise_Impl__8"), 'execute'), $gather);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function hand($a, $b) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::and");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::merge($a, $b, array(new _hx_lambda(array(), "tink_core__Promise_Promise_Impl__9"), 'execute'), null);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function iterate($promises, $yield, $finally, $lazy = null) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::iterate");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Future_Future_Impl_::async(array(new _hx_lambda(array(&$finally, &$promises, &$yield), "tink_core__Promise_Promise_Impl__10"), 'execute'), $lazy);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function ofSpecific($s) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::ofSpecific");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = $s;
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function ofFuture($f) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::ofFuture");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $f->map((property_exists("tink_core_Outcome", "Success") ? tink_core_Outcome::$Success: array("tink_core_Outcome", "Success")));
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function ofOutcome($o) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::ofOutcome");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst($o));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function ofError($e) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::ofError");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Failure($e));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function ofData($d) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::ofData");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Success($d));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function lazy($p) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lazy");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Future_Future_Impl_::async(array(new _hx_lambda(array(&$p), "tink_core__Promise_Promise_Impl__11"), 'execute'), true);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function inParallel($a, $lazy = null) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::inParallel");
		$__hx__spos = $GLOBALS['%s']->length;
		if($a->length === 0) {
			$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst(tink_core_Outcome::Success((new _hx_array(array())))));
			$GLOBALS['%s']->pop();
			return $tmp;
		} else {
			$tmp = tink_core__Future_Future_Impl_::async(array(new _hx_lambda(array(&$a), "tink_core__Promise_Promise_Impl__12"), 'execute'), $lazy);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function inSequence($a) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::inSequence");
		$__hx__spos = $GLOBALS['%s']->length;
		$loop = null;
		$loop = array(new _hx_lambda(array(&$a, &$loop), "tink_core__Promise_Promise_Impl__13"), 'execute');
		$loop1 = $loop;
		{
			$tmp = call_user_func_array($loop1, array(0));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function cache($gen) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::cache");
		$__hx__spos = $GLOBALS['%s']->length;
		$p = null;
		{
			$tmp = array(new _hx_lambda(array(&$gen, &$p), "tink_core__Promise_Promise_Impl__14"), 'execute');
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function lift($p) {
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$GLOBALS['%s']->pop();
			return $p;
		}
		$GLOBALS['%s']->pop();
	}
	function __toString() { return 'tink.core._Promise.Promise_Impl_'; }
}
tink_core__Promise_Promise_Impl_::$NULL = tink_core__Promise_Promise_Impl__15();
tink_core__Promise_Promise_Impl_::$NOISE = tink_core__Promise_Promise_Impl__16();
tink_core__Promise_Promise_Impl_::$NEVER = tink_core__Promise_Promise_Impl__17();
function tink_core__Promise_Promise_Impl__0(&$f, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::tryRecover@21");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o->index) {
		case 0:{
			$d = _hx_deref($o)->params[0];
			{
				$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst($o));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		case 1:{
			$e = _hx_deref($o)->params[0];
			{
				$tmp = call_user_func_array($f, array($e));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__1(&$f, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::recover@27");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o->index) {
		case 0:{
			$d = _hx_deref($o)->params[0];
			{
				$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst($d));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		case 1:{
			$e = _hx_deref($o)->params[0];
			{
				$tmp = call_user_func_array($f, array($e));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__2(&$f, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::mapError@33");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o->index) {
		case 0:{
			$GLOBALS['%s']->pop();
			return $o;
		}break;
		case 1:{
			$e = _hx_deref($o)->params[0];
			{
				$tmp = tink_core_Outcome::Failure(call_user_func_array($f, array($e)));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__3($v) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::noise@42");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Success(tink_core_Noise::$Noise));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__4($o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::isSuccess@45");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core_OutcomeTools::isSuccess($o);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__5(&$f, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::next@48");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o->index) {
		case 0:{
			$d = _hx_deref($o)->params[0];
			{
				$tmp = call_user_func_array($f, array($d));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		case 1:{
			$f1 = _hx_deref($o)->params[0];
			{
				$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst(tink_core_Outcome::Failure($f1)));
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__6(&$v, $_) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::swap@54");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$GLOBALS['%s']->pop();
			return $v;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__7(&$e, $_) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::swapError@57");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$GLOBALS['%s']->pop();
			return $e;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__8(&$merger, &$other, $t) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::merge@60");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::next($other, array(new _hx_lambda(array(&$merger, &$t), "tink_core__Promise_Promise_Impl__18"), 'execute'), false);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__9($a1, $b1) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::and@63");
		$__hx__spos = $GLOBALS['%s']->length;
		$this1 = new tink_core_MPair($a1, $b1);
		{
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Success($this1));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__10(&$finally, &$promises, &$yield, $cb) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::iterate@67");
		$__hx__spos = $GLOBALS['%s']->length;
		$iter = $promises->iterator();
		$next = null;
		$next = array(new _hx_lambda(array(&$cb, &$finally, &$iter, &$next, &$yield), "tink_core__Promise_Promise_Impl__19"), 'execute');
		$next1 = $next;
		call_user_func($next1);
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__11(&$p, $cb) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lazy@109");
		$__hx__spos = $GLOBALS['%s']->length;
		$this1 = $p->get();
		$this1->handle($cb);
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__12(&$a, $cb) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::inParallel@114");
		$__hx__spos = $GLOBALS['%s']->length;
		$result = (new _hx_array(array()));
		$pending = $a->length;
		$links = null;
		$sync = false;
		$done = array(new _hx_lambda(array(&$cb, &$links, &$sync), "tink_core__Promise_Promise_Impl__20"), 'execute');
		$fail = array(new _hx_lambda(array(&$done), "tink_core__Promise_Promise_Impl__21"), 'execute');
		$set = array(new _hx_lambda(array(&$done, &$pending, &$result), "tink_core__Promise_Promise_Impl__22"), 'execute');
		$linkArray = (new _hx_array(array()));
		{
			$_g1 = 0;
			$_g = $a->length;
			while($_g1 < $_g) {
				$_g1 = $_g1 + 1;
				$i = $_g1 - 1;
				if($sync) {
					break;
				}
				$linkArray->push(_hx_array_get($a, $i)->handle(array(new _hx_lambda(array(&$fail, &$i, &$set), "tink_core__Promise_Promise_Impl__23"), 'execute')));
				unset($i);
			}
		}
		$links = tink_core__Callback_CallbackLink_Impl_::fromMany($linkArray);
		if($sync) {
			if($links !== null) {
				$links->dissolve();
			}
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__13(&$a, &$loop, $index) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::inSequence@153");
		$__hx__spos = $GLOBALS['%s']->length;
		if($index === $a->length) {
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Success((new _hx_array(array()))));
			$GLOBALS['%s']->pop();
			return $tmp;
		} else {
			$tmp = tink_core__Promise_Promise_Impl_::next($a[$index], array(new _hx_lambda(array(&$index, &$loop), "tink_core__Promise_Promise_Impl__24"), 'execute'), null);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__14(&$gen, &$p) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::cache@168");
		$__hx__spos = $GLOBALS['%s']->length;
		$ret = $p;
		if($ret === null) {
			$sync = false;
			$ret = tink_core__Promise_Promise_Impl_::next(call_user_func($gen), array(new _hx_lambda(array(&$p, &$sync), "tink_core__Promise_Promise_Impl__25"), 'execute'), null);
			if(!$sync) {
				$p = $ret;
			}
		}
		$ret1 = $ret->map(array(new _hx_lambda(array(&$p), "tink_core__Promise_Promise_Impl__26"), 'execute'));
		{
			$tmp = $ret1->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__15() {
	{
		$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst(tink_core_Outcome::Success(null)));
		return $tmp;
	}
}
function tink_core__Promise_Promise_Impl__16() {
	{
		$tmp = new tink_core__Future_SyncFuture(new tink_core__Lazy_LazyConst(tink_core_Outcome::Success(tink_core_Noise::$Noise)));
		return $tmp;
	}
}
function tink_core__Promise_Promise_Impl__17() {
	{
		$ret = tink_core__Future_Future_Impl_::$NEVER->map((property_exists("tink_core_Outcome", "Success") ? tink_core_Outcome::$Success: array("tink_core_Outcome", "Success")));
		return $ret->gather();
	}
}
function tink_core__Promise_Promise_Impl__18(&$merger, &$t, $a) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@60");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = call_user_func_array($merger, array($t, $a));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__19(&$cb, &$finally, &$iter, &$next, &$yield) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@69");
		$__hx__spos = $GLOBALS['%s']->length;
		if($iter->hasNext()) {
			$this1 = $iter->next();
			$this1->handle(array(new _hx_lambda(array(&$cb, &$next, &$yield), "tink_core__Promise_Promise_Impl__27"), 'execute'));
		} else {
			$finally->handle($cb);
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__20(&$cb, &$links, &$sync, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@120");
		$__hx__spos = $GLOBALS['%s']->length;
		if($links === null) {
			$sync = true;
		} else {
			if($links !== null) {
				$links->dissolve();
			}
		}
		call_user_func_array($cb, array($o));
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__21(&$done, $e) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@126");
		$__hx__spos = $GLOBALS['%s']->length;
		call_user_func_array($done, array(tink_core_Outcome::Failure($e)));
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__22(&$done, &$pending, &$result, $index, $value) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@129");
		$__hx__spos = $GLOBALS['%s']->length;
		$result[$index] = $value;
		$pending = $pending - 1;
		if($pending === 0) {
			call_user_func_array($done, array(tink_core_Outcome::Success($result)));
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__23(&$fail, &$i, &$set, $o1) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@139");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o1->index) {
		case 0:{
			$v = _hx_deref($o1)->params[0];
			call_user_func_array($set, array($i, $v));
		}break;
		case 1:{
			$e1 = _hx_deref($o1)->params[0];
			call_user_func_array($fail, array($e1));
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__24(&$index, &$loop, $head) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@158");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::next(call_user_func_array($loop, array($index + 1)), array(new _hx_lambda(array(&$head), "tink_core__Promise_Promise_Impl__28"), 'execute'), null);
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__25(&$p, &$sync, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@172");
		$__hx__spos = $GLOBALS['%s']->length;
		$o->b->handle(array(new _hx_lambda(array(&$p, &$sync), "tink_core__Promise_Promise_Impl__29"), 'execute'));
		{
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Success($o->a));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__26(&$p, $o1) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@181");
		$__hx__spos = $GLOBALS['%s']->length;
		if(!tink_core_OutcomeTools::isSuccess($o1)) {
			$p = null;
		}
		{
			$GLOBALS['%s']->pop();
			return $o1;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__27(&$cb, &$next, &$yield, $o) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@71");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o->index) {
		case 0:{
			$v = _hx_deref($o)->params[0];
			{
				$this2 = call_user_func_array($yield, array($v));
				$this2->handle(array(new _hx_lambda(array(&$cb, &$next), "tink_core__Promise_Promise_Impl__30"), 'execute'));
			}
		}break;
		case 1:{
			$e1 = _hx_deref($o)->params[0];
			call_user_func_array($cb, array(tink_core_Outcome::Failure($e1)));
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__28(&$head, $tail) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@159");
		$__hx__spos = $GLOBALS['%s']->length;
		{
			$tmp = tink_core__Promise_Promise_Impl_::ofOutcome(tink_core_Outcome::Success(_hx_deref((new _hx_array(array($head))))->concat($tail)));
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__29(&$p, &$sync, $_) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@173");
		$__hx__spos = $GLOBALS['%s']->length;
		$sync = true;
		$p = null;
		$GLOBALS['%s']->pop();
	}
}
function tink_core__Promise_Promise_Impl__30(&$cb, &$next, $o1) {
	{
		$GLOBALS['%s']->push("tink.core._Promise.Promise_Impl_::lift@73");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o1->index) {
		case 0:{
			switch(_hx_deref($o1)->params[0]->index) {
			case 0:{
				$ret = _hx_deref(_hx_deref($o1)->params[0])->params[0];
				call_user_func_array($cb, array(tink_core_Outcome::Success($ret)));
			}break;
			case 1:{
				call_user_func($next);
			}break;
			}
		}break;
		case 1:{
			$e = _hx_deref($o1)->params[0];
			call_user_func_array($cb, array(tink_core_Outcome::Failure($e)));
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
