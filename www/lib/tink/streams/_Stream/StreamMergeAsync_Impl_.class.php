<?php

// Generated by Haxe 3.4.7
class tink_streams__Stream_StreamMergeAsync_Impl_ {
	public function __construct(){}
	static function _new($data, $merger) {
		$GLOBALS['%s']->push("tink.streams._Stream.StreamMergeAsync_Impl_::_new");
		$__hx__spos = $GLOBALS['%s']->length;
		$this1 = new tink_streams_StreamMapFilterAsync($data, tink_streams__Stream_StreamMergeAsync_Impl_::lift($merger));
		{
			$tmp = $this1;
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	static function lift($merger) {
		$GLOBALS['%s']->push("tink.streams._Stream.StreamMergeAsync_Impl_::lift");
		$__hx__spos = $GLOBALS['%s']->length;
		$buffer = (new _hx_array(array()));
		{
			$tmp = array(new _hx_lambda(array(&$buffer, &$merger), "tink_streams__Stream_StreamMergeAsync_Impl__0"), 'execute');
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
	function __toString() { return 'tink.streams._Stream.StreamMergeAsync_Impl_'; }
}
function tink_streams__Stream_StreamMergeAsync_Impl__0(&$buffer, &$merger, $x) {
	{
		$GLOBALS['%s']->push("tink.streams._Stream.StreamMergeAsync_Impl_::lift@484");
		$__hx__spos = $GLOBALS['%s']->length;
		$buffer->push($x);
		$this1 = call_user_func_array($merger, array($buffer));
		$ret = $this1->map(array(new _hx_lambda(array(&$buffer), "tink_streams__Stream_StreamMergeAsync_Impl__1"), 'execute'));
		{
			$tmp = $ret->gather();
			$GLOBALS['%s']->pop();
			return $tmp;
		}
		$GLOBALS['%s']->pop();
	}
}
function tink_streams__Stream_StreamMergeAsync_Impl__1(&$buffer, $o) {
	{
		$GLOBALS['%s']->push("tink.streams._Stream.StreamMergeAsync_Impl_::lift@486");
		$__hx__spos = $GLOBALS['%s']->length;
		switch($o->index) {
		case 0:{
			$v = _hx_deref($o)->params[0];
			$buffer = (new _hx_array(array()));
			$this2 = $v;
			{
				$tmp = $this2;
				$GLOBALS['%s']->pop();
				return $tmp;
			}
		}break;
		case 1:{
			$GLOBALS['%s']->pop();
			return null;
		}break;
		}
		$GLOBALS['%s']->pop();
	}
}
